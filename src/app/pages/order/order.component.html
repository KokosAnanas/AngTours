<div class="ticket-info-wrap col-6">
  <div>
    <a routerLink="/tours">Назад</a>

    <div class="mt-3">
      <h2>Информация о туре</h2>
      <div>Название {{tour?.name}}</div>
    </div>

    <div class="mt-3">
      <h2>Информация о покупателе</h2>
      <form>

        <div class="user-info mt-3" [formGroup]="userForm">

          @for (fieldObj of userFormFiledsArr; track fieldObj.control) {
            <ng-container
            [ngTemplateOutlet]="formFiled"
            [ngTemplateOutletContext]="fieldObj"/>
          }

<!--          <div class="form-group mt-3">-->
<!--            <label for="name" class="mt-3">Имя</label>-->
<!--            <input type="text"-->
<!--                   class="form-control mt-3"-->
<!--                   id="name"-->
<!--                   pInputText-->
<!--                   formControlName="firstName"-->
<!--                   placeholder="Введите имя">-->
<!--          </div>-->

<!--          <div class="form-group mt-3">-->
<!--            <label for="surname" class="mt-3">Фамилия</label>-->
<!--            <input type="text"-->
<!--                   class="form-control mt-3"-->
<!--                   id="surname"-->
<!--                   pInputText-->
<!--                   formControlName="lastName"-->
<!--                   placeholder="Введите фамилию">-->
<!--          </div>-->

<!--          <div class="form-group mt-3">-->
<!--            <label for="carNumber" class="mt-3">Номер Карты</label>-->
<!--            <input type="text"-->
<!--                   class="form-control mt-3"-->
<!--                   id="carNumber"-->
<!--                   pInputText-->
<!--                   formControlName="carNumber"-->
<!--                   placeholder="Введите номер карты">-->
<!--          </div>-->

<!--          <div class="form-group mt-3">-->
<!--            <label class="mt-3">Возраст</label>-->
<!--            <p-inputNumber-->
<!--              name="age"-->
<!--              class="form-control mt-3"-->
<!--              formControlName="age"-->
<!--              [min]="8"-->
<!--              [showButtons]="true"/>-->
<!--          </div>-->

<!--          <div class="form-group mt-3">-->
<!--            <label class="mt-3">День рождения</label>-->
<!--            <p-datepicker-->
<!--              name="birthDate"-->
<!--              class="form-control mt-3"-->
<!--              formControlName="birthDate">-->

<!--            </p-datepicker>-->
<!--          </div>-->

<!--          <div class="form-group mt-3">-->
<!--            <label for="name" class="mt-3">Гражданство</label>-->
<!--            <input type="text"-->
<!--                   class="form-control mt-3"-->
<!--                   id="citizenship"-->
<!--                   pInputText-->
<!--                   formControlName="citizenship"-->
<!--                   placeholder="Введите гражданство">-->
<!--          </div>-->

          <div class="form-group mt-3">
            <p-button
              (click)="initOrder()"
              class="btn btn-primary"
              [disabled]="!userForm.valid">
              Перейти к оформлению
            </p-button>
          </div>

        </div>

      </form>
    </div>

  </div>
</div>





<ng-template
  #formFiled
  let-controlNew="control"
  let-placeHolder="placeHolder"
  let-label="label"
  let-type="type"
  let-min="min"
>
  <div [formGroup]="userForm" class="form-group mx-3">

    <label [attr.for]="controlNew" class="mx-3">{{label}}</label>

    @if (type === 'text') {
      <input type="text"
             class="form-control mt-3"
             [id]="controlNew"
             pInputText
             [formControlName]="controlNew"
             [placeholder]="placeHolder"
      >
    } @else if (type === 'number') {
      <p-inputNumber
            class="form-control mt-3"
            [id]="controlNew"
            [formControlName]="controlNew"
            [min]="min"
            [showButtons]="true"
      />
    } @else if (type === 'date') {
      <p-datepicker
        class="form-control mt-3 pt-5"
        [id]="controlNew"
        [formControlName]="controlNew"
        dateFormat="dd.mm.yy"
      ></p-datepicker>
    }
  </div>
</ng-template>





